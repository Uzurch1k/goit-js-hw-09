{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// ================================================================\n\nconst form = document.querySelector('.feedback-form');\nconst textarea = form.querySelector('textarea');\nconst storageKey = 'feedback-form-state';\n\n// ================================================================\n\nform.addEventListener('input', onFormInput);\n\nfunction onFormInput() {\n  const email = form.elements.email.value;\n  const message = form.elements.message.value.trim();\n\n  const localObj = {\n    email,\n    message,\n  };\n\n  setToLocal(storageKey, localObj);\n}\n\nfunction setToLocal(key, value) {\n  const stringValue = JSON.stringify(value);\n  localStorage.setItem(key, stringValue);\n}\n\nfunction getToLocal(key) {\n  const storage = localStorage.getItem(key);\n  try {\n    return JSON.parse(storage);\n  } catch {\n    return storage;\n  }\n}\n\nfunction insertLocalForm() {\n  const data = getToLocal(storageKey) || {};\n  form.elements.email.value = data.email || '';\n  form.elements.message.value = data.message || '';\n}\n\ninsertLocalForm();\n\n// ================================================================\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const email = form.elements.email.value;\n  const message = form.elements.message.value.trim();\n\n  if (!email || !message) {\n    alert('All form fields must be filled in');\n    return;\n  }\n\n  const localObj = {\n    email,\n    message,\n  };\n  console.log(localObj);\n\n  localStorage.removeItem(storageKey);\n  form.reset();\n}\n\n// ================================================================\n"],"names":["form","storageKey","onFormInput","email","message","setToLocal","key","value","stringValue","getToLocal","storage","insertLocalForm","data","onFormSubmit"],"mappings":"wFAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EACnCA,EAAK,cAAc,UAAU,EAC9C,MAAMC,EAAa,sBAInBD,EAAK,iBAAiB,QAASE,CAAW,EAE1C,SAASA,GAAc,CACrB,MAAMC,EAAQH,EAAK,SAAS,MAAM,MAC5BI,EAAUJ,EAAK,SAAS,QAAQ,MAAM,OAO5CK,EAAWJ,EALM,CACf,MAAAE,EACA,QAAAC,CACJ,CAEiC,CACjC,CAEA,SAASC,EAAWC,EAAKC,EAAO,CAC9B,MAAMC,EAAc,KAAK,UAAUD,CAAK,EACxC,aAAa,QAAQD,EAAKE,CAAW,CACvC,CAEA,SAASC,EAAWH,EAAK,CACvB,MAAMI,EAAU,aAAa,QAAQJ,CAAG,EACxC,GAAI,CACF,OAAO,KAAK,MAAMI,CAAO,CAC7B,MAAI,CACA,OAAOA,CACR,CACH,CAEA,SAASC,GAAkB,CACzB,MAAMC,EAAOH,EAAWR,CAAU,GAAK,CAAA,EACvCD,EAAK,SAAS,MAAM,MAAQY,EAAK,OAAS,GAC1CZ,EAAK,SAAS,QAAQ,MAAQY,EAAK,SAAW,EAChD,CAEAD,IAIAX,EAAK,iBAAiB,SAAUa,CAAY,EAE5C,SAASA,EAAa,EAAG,CACvB,EAAE,eAAc,EAEhB,MAAMV,EAAQH,EAAK,SAAS,MAAM,MAC5BI,EAAUJ,EAAK,SAAS,QAAQ,MAAM,OAE5C,GAAI,CAACG,GAAS,CAACC,EAAS,CACtB,MAAM,mCAAmC,EACzC,MACD,CAMD,QAAQ,IAJS,CACf,MAAAD,EACA,QAAAC,CACJ,CACsB,EAEpB,aAAa,WAAWH,CAAU,EAClCD,EAAK,MAAK,CACZ"}